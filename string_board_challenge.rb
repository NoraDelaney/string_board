string = ARGV[0]
# string = "0111111111111111111011111111101111111111111111111111111110111111011111111011111001111001110111111110011111111111111111111111111111111111101101111111101101111111101111111111111011111011101111111111111111111111111111111101111101111111111101111111111111111111111111111111111111111101111111101111111111111101011111111111111011111111111111111011101111011111111110111111101111111111111111001111111111111111111011110011101111111010111110111111111111101111011111111111111111110111101111111111111111010101111111011011101111111110111111111111111111011101111111111111011111011011111111110111101111111111111111110011111111111111111111101101111111111111111111011100111111111111101101101111111111111111111111111110111101110111011111011111101111111110111110110111111111111111111111011111111101111111111011111111101101111111111111111111111111111111111101111111111111101111111011011110111111111111111110111111111111111111111011111111111111101110110110101111101101111111111111111011111111111111111110111111011111111011"

x = 2
x_array = []
while x < string.length
  if string.length % x == 0
    x_array << x
  end
  x += 1
end

array_of_rects = []
x_array.each do |n|
  rect = []
  new_array = string.chars.each_slice(n).map(&:join)
  new_array.each do |row|
    rect << row.split('')
  end
  array_of_rects << rect
end

solid_rows = []
 array_of_rects.each do |rect|
   row_number = 0
   rect.each do |row|
     row_number += 1 unless row.include? '0'
   end
   solid_rows << row_number
 end

 solid_cols = []
  array_of_rects.each do |rect|
    col_number = 0
    rect.transpose.each do |col|
      col_number += 1 unless col.include? '0'
    end
    solid_cols << col_number
  end

sum_array = []
array_of_rects.length.times do |i|
  sum_array[i] = solid_rows[i] + solid_cols[i]
end

if sum_array.count(sum_array.max) > 1
  puts "We have a tie!"
  puts "Boards with most solid rows and columns:"
  puts
  sum_array.length.times do |i|
    if sum_array[i] == sum_array.max
      puts array_of_rects[i].map(&:join)
      puts
    end
  end
else
  puts "Board with most solid rows and columns:"
  puts
  puts array_of_rects[sum_array.index(sum_array.max)].map(&:join)
end
